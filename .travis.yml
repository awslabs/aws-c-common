sudo: false
language: c

osx_image: xcode8

os:
  - osx

compiler:
  - clang

install:
  - brew update
  - brew install llvm
  - export PATH="/usr/local/opt/llvm/bin:$PATH"

#execute build
script:
  - mkdir build
  - cd build
  - cmake -DENABLE_SANITIZERS=ON -DCMAKE_EXPORT_COMPILE_COMMANDS=ON ..
  - make && make test
  - cd ..
  - clang-tidy -p=build **/*.c

